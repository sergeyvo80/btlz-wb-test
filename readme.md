# Документация по сервису мониторинга тарифов WB

- [Документация по сервису мониторинга тарифов WB](#документация-по-сервису-мониторинга-тарифов-wb)
  - [Описание задачи](#описание-задачи)
  - [Архитектура решения](#архитектура-решения)
    - [Компоненты системы](#компоненты-системы)
  - [Конфигурация](#конфигурация)
  - [Тестовые гугл таблицы](#тестовые-гугл-таблицы)
  - [Команды:](#команды)


## Описание задачи
Сервис выполняет две основные функции:
- Регулярное получение информации о тарифах Wildberries и сохранение в базу данных PostgreSQL
- Регулярное обновление информации об актуальных тарифах в Google-таблицах

## Архитектура решения
### Компоненты системы
- import.ts - сервис для получения данных из API WB и сохранения в БД
- export.ts - сервис для выгрузки данных из БД в Google-таблицы
- PostgreSQL - база данных для хранения исторических данных о тарифах
- Docker - контейнеризация приложения

Поток данных
```
API WB → import.ts → PostgreSQL → export.ts → Google Sheets
```

## Конфигурация

Для конфигурации нужно создать файлы по примерам
- .env - для доступа к бд и WB API
- credentials.json - для доступа к GoogleAPI для работы с таблицами


## Тестовые гугл таблицы
- https://docs.google.com/spreadsheets/d/17h9K_MOXFuYOWzrHOxatVCMKSIsJJFcsPGMZHsVMBLY/edit?gid=1848771784#gid=1848771784
- https://docs.google.com/spreadsheets/d/1dyqJk7UWtSxb8KnW60E_2E0euZYzUad1lpirrbTjPl8/edit?gid=1155437095#gid=1155437095


## Команды:

Развернуть и запустить сервиc:
```bash
docker compose down --rmi local --volumes
docker compose up --build
```

